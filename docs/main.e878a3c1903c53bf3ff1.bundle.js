webpackJsonp([1],{0:function(t,e,n){t.exports=n("cDNt")},"6eDf":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".spinner{margin:3rem auto}b{padding-right:1em}.search_container{margin-left:2rem}.planets_pager{font-size:1.1rem}.planets_pager .mat-paginator-container{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}",""]),t.exports=t.exports.toString()},Eyxz:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"/**\n * Applies styles for users in high contrast mode. Note that this only applies\n * to Microsoft browsers. Chrome can be included by checking for the `html[hc]`\n * attribute, however Chrome handles high contrast differently.\n */\n/* Theme for the ripple elements.*/\n/** The mixins below are shared between mat-menu and mat-select */\n/**\n * This mixin adds the correct panel transform styles based\n * on the direction that the menu panel opens.\n */\n/* stylelint-disable material/no-prefixes */\n/* stylelint-enable */\n/**\n * This mixin contains shared option styles between the select and\n * autocomplete components.\n */",""]),t.exports=t.exports.toString()},LI0x:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"h2{margin-top:1em;margin-bottom:.6em;padding-left:.4em}.btn_back{margin:2em auto 1em;display:block;text-transform:uppercase;width:10em}b{padding-right:.3em}",""]),t.exports=t.exports.toString()},Y8J8:function(t,e){t.exports='<h2 *ngIf="planet && planet.name" class="mat-display-1">{{planet.name}}</h2>\r\n<mat-list *ngIf="planet && planet.name">\r\n    <mat-list-item><b>Rotation period: </b> {{planet.rotation_period | toNumber}}</mat-list-item>\r\n    <mat-list-item><b>Orbital period: </b> {{planet.orbital_period | toNumber}}</mat-list-item>\r\n    <mat-list-item><b>Diameter: </b> {{planet.diameter | toNumber}}</mat-list-item>\r\n    <mat-list-item><b>Climate: </b> {{planet.climate}}</mat-list-item>\r\n    <mat-list-item><b>Terrain: </b> {{planet.terrain}}</mat-list-item>\r\n    <mat-list-item><b>Surface water: </b> {{planet.surface_water}}{{(isNumber(planet.surface_water)) ? \'%\' : \'\'}}</mat-list-item>\r\n    <mat-list-item><b>Population: </b> {{planet.population | toNumber}}</mat-list-item>\r\n</mat-list>\r\n<a *ngIf="history.lastUrl | async"\r\n  mat-raised-button\r\n  class="btn_back"\r\n  color="primary" \r\n  [routerLink]="history.lastUrl | async" \r\n  [queryParams]="history.lastParams | async"\r\n  >Back</a>'},YuZA:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="YuZA"},cDNt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("LMZF"),a=n("x8Hs"),o=n("RyBE"),i=n("9iV4"),c=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){this.title="Star Wars Planets"}return t=c([Object(r.n)({selector:"app-root",template:n("efyd"),styles:[n("hxJY")]}),s("design:paramtypes",[])],t)}(),p=n("eoFs"),f=n("TO51"),u=n("GROE"),h=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},m=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,o){function i(t){try{s(r.next(t))}catch(t){o(t)}}function c(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){t.done?a(t.value):new n(function(e){e(t.value)}).then(i,c)}s((r=r.apply(t,e||[])).next())})},y=this&&this.__generator||function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},g=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,a,o=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(t){a={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},b=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t},v=function(){function t(t){this.http=t,this.planets$=new p.a([]),this.error$=new f.a}return t.prototype.get=function(t){return this.http.get(t).toPromise()},t.prototype.getNthPage=function(t){void 0===t&&(t=1);var e="https://swapi.co/api/planets/"+(t>1?"?page="+t+"&format=json":"");return this.get(e)},t.prototype.getNthPageLocally=function(t){void 0===t&&(t=1);var e="/assets/planets"+(t>1?"."+t:"")+".json";return this.get(e)},t.prototype.getAllPlanets=function(t){return d(this,void 0,void 0,function(){var e,n,r,a;return y(this,function(o){switch(o.label){case 0:return[4,t(1)];case 1:return e=o.sent(),i=Math.ceil(e.count/10),n=b(Array(i+1).keys()).filter(function(t){return t>1}),r=n.map(function(e){return t(e)}),[4,Promise.all(r)];case 2:return a=o.sent().map(function(t){return t.results}).reduce(function(t,e){return b(t,e)}),[2,Promise.resolve(b(e.results,a))]}var i})})},t.prototype.getAllPlanetsFromAPI=function(){return this.getAllPlanets(this.getNthPage.bind(this))},t.prototype.getAllPlanetsLocally=function(){return this.getAllPlanets(this.getNthPageLocally.bind(this))},t.prototype.filterByName=function(t){return this.planets$.pipe(Object(u.c)(function(e){return e.filter(function(t){return function(e){return e.name.toLowerCase().includes(t.toLowerCase())}}(t))}))},t.prototype.extractPlanetID=function(t){return t.match(/planets\/([0-9]+)/)[1]},t.prototype.findPlanetByID=function(t){return this.planets$.getValue().find(function(e){return e.url.match(/planets\/([0-9]+)\/?/)[1]===t})},t.prototype.init=function(){var t=this;return this.planets$.getValue().length>0?Promise.resolve(!0):this.getAllPlanetsFromAPI().then(function(e){return t.planets$.next(e)}).catch(function(e){console.error(e),t.error$.next("Cannot reach the Star Wars API, retrieving the local version."),t.getAllPlanetsLocally().then(function(e){t.error$.next("Using locally backed up data, might be outdated."),t.planets$.next(e)}).catch(function(e){console.error(e),t.error$.next("Couldn't retrieve data.")})})},t=h([Object(r.C)(),m("design:paramtypes",[i.a])],t)}(),j=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},x=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},P=250,R=function(){function t(t){this.planets=t,this.searchTerm=new f.a,this.search$=this.searchTerm.pipe(Object(u.a)(P),Object(u.b)())}return t.prototype.search=function(t){this.searchTerm.next(t)},t=j([Object(r.C)(),x("design:paramtypes",[v])],t)}(),O=n("UHIZ"),_=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},w=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},I=function(){function t(){this.lastUrl=new p.a(""),this.lastParams=new p.a({})}return t.prototype.save=function(t){this.lastUrl.next("/"+t.url[0].path),this.lastParams.next(t.queryParams)},t=_([Object(r.C)(),w("design:paramtypes",[])],t)}(),S=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},D=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},L=function(){function t(t,e,n,r,a){this.planets=t,this.route=e,this.router=n,this.searchService=r,this.history=a,this.searchBoxTerm="",this.searchTerm="",this.loading=!0,this.extractPlanetId=this.planets.extractPlanetID}return t.prototype.updateSearch=function(t){this.searchService.search(t)},t.prototype.isNumber=function(t){return!!parseFloat(t)},t.prototype.onPaginateChange=function(t){t.length;var e=t.pageSize,n={page:t.pageIndex+1,pagesize:e},r=this.searchTerm?{search:this.searchTerm}:{};this.router.navigate(["/planets"],{queryParams:Object.assign({},n,r)})},t.prototype.initSubscriptions=function(){var t=this;this.route.queryParams.subscribe(function(e){var n=e.search,r=e.page,a=e.pagesize;t.history.save(t.route.snapshot),t.searchTerm=t.searchBoxTerm=n||"",t.pageSize=a||10,t.pageIndex=(r||1)-1,t.filteredList=t.planets.filterByName(t.searchTerm)}),this.searchService.search$.subscribe(function(e){e.length>0?t.router.navigate(["/planets"],{queryParams:{search:e,page:1,pagesize:t.pageSize}}):t.router.navigate(["/planets"])})},t.prototype.ngOnInit=function(){var t=this;this.planets.init().then(function(){return t.loading=!1}).then(function(){return t.initSubscriptions()})},t=S([Object(r.n)({selector:"app-planets-list",template:n("jfpt"),styles:[n("6eDf")]}),D("design:paramtypes",[v,O.a,O.b,R,I])],t)}(),k=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},T=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},N=function(){function t(t,e,n){this.route=t,this.planets=e,this.history=n}return t.prototype.isNumber=function(t){return!!parseFloat(t)},t.prototype.ngOnInit=function(){var t=this,e=this.route.snapshot.params.id;this.planets.init().then(function(){return t.planet=t.planets.findPlanetByID(e)})},t=k([Object(r.n)({selector:"app-planet",template:n("Y8J8"),styles:[n("LI0x")]}),T("design:paramtypes",[O.a,v,I])],t)}(),C=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},$=[{path:"planets",component:L},{path:"planet/:id",component:N},{path:"",redirectTo:"/planets",pathMatch:"full"}],A=function(){function t(){}return t=C([Object(r.K)({imports:[O.c.forRoot($)],exports:[O.c],declarations:[]})],t)}(),z=n("0nO6"),B=n("Un6q"),Y=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},F=function(){function t(){}return t.prototype.transform=function(t,e){return t.filter(function(t){return t.name.toLowerCase().includes(e.toLowerCase())})},t=Y([Object(r.V)({name:"filter"})],t)}(),M=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},U=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},E=function(){function t(t){this.decimal=t}return t.prototype.transform=function(t){return parseFloat(t)?this.decimal.transform(t):t},t=M([Object(r.V)({name:"toNumber"}),U("design:paramtypes",[B.d])],t)}(),q=n("6lRS"),V=n("MCDL"),J=n("dYU3"),Z=n("i0AX"),G=n("SlD5"),H=n("697t"),K=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},W=function(){function t(){}return t.prototype.transform=function(t,e,n){return void 0===n&&(n=10),t.slice((e-1)*n,e*n)},t=K([Object(r.V)({name:"paginate"})],t)}(),X=n("ghl+"),Q=n("0bRs"),tt=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},et=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},nt=function(){function t(t){this.planets=t}return t.prototype.ngOnInit=function(){},t=tt([Object(r.n)({selector:"app-error-bar",template:n("dwF5"),styles:[n("Eyxz")]}),et("design:paramtypes",[v])],t)}(),rt=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},at=function(){function t(){}return t=rt([Object(r.K)({declarations:[l,L,N,F,E,W,nt],imports:[o.a,i.b,A,z.c,V.a,q.a,J.a,Z.a,G.b,H.a,X.a,Q.a],providers:[v,R,B.d,I],bootstrap:[l]})],t)}();Object(r._17)(),Object(a.a)().bootstrapModule(at).catch(function(t){return console.log(t)})},dwF5:function(t,e){t.exports='<mat-toolbar *ngIf="planets.error$ | async" class="io_error">\r\n  {{planets.error$ | async}}\r\n</mat-toolbar>'},efyd:function(t,e){t.exports='<mat-toolbar color="primary">\r\n  <mat-toolbar-row>\r\n    <div class="mat-h1">\r\n      <a class="app-header" [routerLink]="[\'/planets\']">{{title}}</a>\r\n    </div>\r\n  </mat-toolbar-row>\r\n</mat-toolbar>\r\n<router-outlet></router-outlet>\r\n<app-error-bar></app-error-bar>'},hxJY:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".mat-h1{vertical-align:middle;margin:0}a.app-header{color:inherit;text-decoration:inherit;text-transform:uppercase;letter-spacing:.04em}",""]),t.exports=t.exports.toString()},jfpt:function(t,e){t.exports='<div *ngIf="loading; else content">\r\n  <mat-progress-spinner class="spinner"\r\n    [color]="\'accent\'"\r\n    [mode]="\'indeterminate\'"\r\n  >\r\n  </mat-progress-spinner>\r\n</div>\r\n<ng-template #content>\r\n    <mat-input-container class="search_container">\r\n        <label for="search-box">Search: </label>\r\n        <input matInput #searchBox id="search-box" type="text" (keyup)="updateSearch(searchBox.value)" [(ngModel)]="searchBoxTerm" />\r\n      </mat-input-container>\r\n      <mat-nav-list *ngIf="filteredList | async">\r\n        <mat-list-item *ngFor="let planet of filteredList | async | paginate :pageIndex+1 :pageSize">\r\n          <a [routerLink]="\'/planet/\'+extractPlanetId(planet.url)">{{planet.name}}</a>\r\n        </mat-list-item>\r\n      </mat-nav-list>\r\n      <mat-paginator *ngIf="(filteredList | async) && (filteredList | async).length" \r\n        #paginator class="planets_pager"\r\n        [length]="(filteredList | async).length" \r\n        [pageSize]="pageSize"\r\n        [pageIndex]="pageIndex"\r\n        [pageSizeOptions]="[5, 10, 25, 100]"\r\n        (page)="pageEvent = $event; onPaginateChange($event)" >\r\n      </mat-paginator>\r\n</ng-template>'}},[0]);